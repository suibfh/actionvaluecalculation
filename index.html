<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BFH 行動値ツール</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>BFH 行動値ツール</h1>

        <div class="input-section">
            <h2>ユニット設定 (最大10体)</h2>
            <div class="unit-inputs" id="all-units">
                </div>

            <h2>バフ・デバフ設定</h2>
            <div class="buff-debuff-inputs">
                <div class="buff-debuff-control">
                    <div>
                        <label for="buff-debuff-type">種類:</label>
                        <select id="buff-debuff-type">
                            <option value="agility_buff_skill">敏捷バフ (スキル)</option>
                            <option value="agility_buff_bb">敏捷バフ (BB)</option>
                            <option value="agility_debuff_heavy_pressure">敏捷デバフ (重圧)</option>
                            <option value="action_value_up">行動値アップ</option>
                            <option value="action_value_down">行動値ダウン</option>
                        </select>

                        <label for="buff-debuff-value">効果値:</label>
                        <input type="number" id="buff-debuff-value" value="0">
                        <span id="value-unit">%</span>
                    </div>
                    <div>
                         <label for="buff-debuff-duration" class="duration-label">効果ターン:</label>
                        <input type="number" id="buff-debuff-duration" value="1" min="1" class="duration-input">

                         <label for="buff-debuff-calc" class="calc-label">付与演算:</label>
                        <input type="number" id="buff-debuff-calc" value="1" min="1" class="calc-input">

                         <label for="buff-debuff-source">付与元ユニット:</label>
                         <select id="buff-debuff-source">
                             <option value="">なし (敵など)</option>
                             </select>
                    </div>
                </div>
                 <div class="buff-debuff-targets">
                    <label>対象ユニット:</label><br>
                    <div id="buff-debuff-target-units">
                        </div>
                </div>
                <button onclick="addBuffDebuff()">バフ・デバフ追加</button>
            </div>

            <h3>設定済みバフ・デバフ</h3>
            <ul id="active-buff-debuffs">
                </ul>

            <button onclick="runSimulation()">シミュレーション実行</button>
        </div>

        <div class="results-section">
            <h2>シミュレーション結果 (50演算)</h2>
            <div class="results-table-container">
                <table id="results-table">
                    <thead>
                        <tr>
                            <th>演算</th>
                            </tr>
                    </thead>
                    <tbody>
                        </tbody>
                </table>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/iframe-resizer/4.3.9/iframeResizer.contentWindow.min.js" integrity="sha512-mdT/HQRzoRP4laVz49Mndx6rcCGA3IhuyhP3gaY0E9sZPkwbtDk9ttQIq9o8qGCf5VvJv1Xsy3k2yTjfUoczqw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</body>
</html>